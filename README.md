# ira-utils
Разные утилиты для команды по борьбе с кремлеботами

## Скрипт для сбора статистики YouTube

Скрипт main.py проходит по списку каналов из файла channels.txt, смотрит комментарии под всеми видео 
(вышедшие начиная с указанной в интерфейсе даты) и составляет таблицу (в файле stat.csv): идентификатор пользователя, 
идентификатор канала, количество комментариев от пользователя под видео с канала  

### Установка и запуск

На github в разделе actions https://github.com/civsocit/ira-utils/actions должны лежать автоматически собранные 
бинарные файлы. Проще всего взять запустить их, предварительно положив рядом файл channels.txt со списком каналов  

Можно запустить и из python (версия 3.7 или старше). Делать это как-то так:
```
python -m pip install poetry
poetry install --no-dev
poetry run python main.py
```

Файл channels.txt со списком каналов для анализа должен лежать рядом со скриптом. Пример файла есть в репозитории.  

Для работы скрипта нужен Google API Key для YouTube https://developers.google.com/youtube/v3/getting-started  
Регистрировать OAuth2.0 не надо, скрипт использует простой API Key  

Google API имеет ограничения на использование https://developers.google.com/youtube/v3/getting-started#quota. На момент 
написания скрипта квоты хватает примерно на 2 запуска в день со списком из 40 не слишком популярных каналов, с датой 
отсечки 3 дня от сегодняшнего. Если квоты не будет хватать, список каналов нужно будет разбить и запускать по частям в 
разные дни.  

Ход работы скрипта пишется в консоль. Поэтому консоль нужно держать открытой и следить за происходящим. 